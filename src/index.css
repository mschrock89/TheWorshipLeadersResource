@tailwind base;
@tailwind components;
@tailwind utilities;

/* Safe area insets for mobile */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ECC Brand Style Guide - Version 3.1
   The Experience Community Church
   Primary: ECC Blue #35B0E5 | Dark Blue #27749D | Window Teal #008DB3
   Secondary: Yellow #FFB838 | Grays
   Typography: Avenir (using Nunito Sans as web fallback)
   All colors are HSL.
*/

@layer base {
  :root {
    /* Dark background - less saturated, more muted */
    --background: 210 10% 8%;
    --foreground: 0 0% 100%;

    /* Cards - dark, slightly lighter than background */
    --card: 210 8% 12%;
    --card-foreground: 0 0% 100%;

    --popover: 210 8% 12%;
    --popover-foreground: 0 0% 100%;

    /* ECC Blue as primary */
    --primary: 197 76% 55%;
    --primary-foreground: 0 0% 100%;

    /* Dark Blue as secondary */
    --secondary: 200 60% 38%;
    --secondary-foreground: 0 0% 100%;

    /* Soft muted tones - dark grays */
    --muted: 210 8% 18%;
    --muted-foreground: 0 0% 75%;

    /* ECC Yellow accent */
    --accent: 38 100% 61%;
    --accent-foreground: 0 0% 5%;

    --destructive: 0 72% 50%;
    --destructive-foreground: 0 0% 100%;

    /* Dark borders */
    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 197 76% 55%;

    --radius: 0.5rem;

    /* Sidebar with ECC Dark Blue */
    --sidebar-background: 200 60% 20%;
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 197 76% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 200 55% 28%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 200 50% 25%;
    --sidebar-ring: 197 76% 55%;

    /* ECC Brand colors */
    --ecc-blue: 197 76% 55%;
    --ecc-blue-dark: 200 60% 38%;
    --ecc-blue-bright: 197 79% 60%;
    --ecc-teal: 193 100% 35%;
    --ecc-yellow: 38 100% 61%;
    --ecc-gray: 228 2% 59%;
    --ecc-gray-mid: 225 2% 73%;
    --ecc-gray-light: 60 14% 96%;
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(197 76% 55%), hsl(200 60% 38%));
    --gradient-teal: linear-gradient(135deg, hsl(193 100% 35%), hsl(197 76% 55%));
    --gradient-warm: linear-gradient(180deg, hsl(60 14% 96%), hsl(0 0% 100%));

    /* Shadows */
    --shadow-soft: 0 4px 20px -4px hsl(200 60% 38% / 0.15);
    --shadow-glow: 0 0 30px hsl(197 76% 55% / 0.3);
  }

  /* Dark mode disabled - ECC light branding only */
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "cv11", "ss01";
  }
}

@layer utilities {
  .text-gradient-blue {
    background: linear-gradient(
      90deg,
      hsl(197 76% 55%) 0%,
      hsl(200 60% 38%) 50%,
      hsl(197 76% 65%) 100%
    );
    background-size: 200% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 6s ease-in-out infinite;
  }

  @keyframes shimmer {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .text-gradient-teal {
    background: linear-gradient(135deg, hsl(193 100% 35%), hsl(197 76% 55%));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .bg-gradient-primary {
    background: linear-gradient(135deg, hsl(197 76% 55%), hsl(200 60% 38%));
  }

  .bg-gradient-teal {
    background: linear-gradient(135deg, hsl(193 100% 35%), hsl(197 76% 55%));
  }

  .bg-gradient-light {
    background: linear-gradient(180deg, hsl(60 14% 96%), hsl(0 0% 100%));
  }

  .shadow-ecc {
    box-shadow: 0 4px 20px -4px hsl(200 60% 38% / 0.15);
  }

  .shadow-blue-glow {
    box-shadow: 0 0 30px hsl(197 76% 55% / 0.3);
  }

  /* Prevent iOS overscroll/bounce on fixed elements */
  .touch-none-ios {
    touch-action: none;
    -webkit-overflow-scrolling: auto;
  }

  /* Prevent body overscroll */
  html, body {
    overscroll-behavior: none;
  }

  /* iOS safe area utilities */
  .pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  .pb-safe-nav {
    padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
  }

  /* Full height accounting for safe areas */
  .min-h-screen-safe {
    min-height: 100dvh;
  }
}

/* Audition planner date/time picker icon tint */
.audition-date-input::-webkit-calendar-picker-indicator,
.audition-time-input::-webkit-calendar-picker-indicator {
  filter: invert(58%) sepia(93%) saturate(1246%) hue-rotate(169deg) brightness(95%) contrast(92%);
  opacity: 1;
}

/* Print Styles for Service Flow Export */
html.service-flow-export-mode,
html.service-flow-export-mode body {
  --background: 0 0% 100% !important;
  --foreground: 220 13% 12% !important;
  --card: 0 0% 100% !important;
  --card-foreground: 220 13% 12% !important;
  --popover: 0 0% 100% !important;
  --popover-foreground: 220 13% 12% !important;
  --muted: 0 0% 96% !important;
  --muted-foreground: 220 10% 35% !important;
  --border: 0 0% 80% !important;
  --input: 0 0% 80% !important;
  background: white !important;
  color: black !important;
  font-size: 13pt !important;
  line-height: 1.15 !important;
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
}

html.service-flow-export-mode #root,
html.service-flow-export-mode #root > div {
  display: block !important;
  height: auto !important;
  min-height: 0 !important;
  overflow: visible !important;
  padding-bottom: 0 !important;
}

html.service-flow-export-mode main,
html.service-flow-export-mode main > div,
html.service-flow-export-mode [class*="min-h-screen"],
html.service-flow-export-mode [class*="min-h-["] {
  display: block !important;
  height: auto !important;
  min-height: 0 !important;
  overflow: visible !important;
  padding-bottom: 0 !important;
}

html.service-flow-export-mode header,
html.service-flow-export-mode nav,
html.service-flow-export-mode aside,
html.service-flow-export-mode footer,
html.service-flow-export-mode .sidebar,
html.service-flow-export-mode .bottom-nav,
html.service-flow-export-mode [data-radix-popper-content-wrapper],
html.service-flow-export-mode .toaster,
html.service-flow-export-mode .screen-header {
  display: none !important;
}

html.service-flow-export-mode main,
html.service-flow-export-mode .service-flow-page {
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  position: relative !important;
}

html.service-flow-export-mode .service-flow-page.service-flow-print-fit {
  zoom: 0.9 !important;
}

@supports not (zoom: 1) {
  html.service-flow-export-mode .service-flow-page.service-flow-print-fit {
    transform: scale(0.9) !important;
    transform-origin: top left !important;
    width: 112% !important;
  }
}

html.service-flow-export-mode .service-flow-page.space-y-6 {
  gap: 2px !important;
}

html.service-flow-export-mode .print-header {
  display: flex !important;
  border-color: #333 !important;
  margin-bottom: 2px !important;
  padding-bottom: 2px !important;
}

html.service-flow-export-mode .print-header img {
  height: 32px !important;
  width: auto !important;
}

html.service-flow-export-mode .print-header h1 {
  font-size: 16pt !important;
}

html.service-flow-export-mode .print-header p {
  font-size: 13pt !important;
}

html.service-flow-export-mode .print-title {
  color: #35B0E5 !important;
}

html.service-flow-export-mode .print-date {
  color: #444 !important;
}

html.service-flow-export-mode .service-flow-page .flex.flex-wrap.gap-3 {
  display: none !important;
}

html.service-flow-export-mode .service-flow-page .border-b {
  border-bottom: 1px solid #333 !important;
  margin-bottom: 2px !important;
  padding-bottom: 2px !important;
  font-size: 11pt !important;
}

html.service-flow-export-mode .service-flow-page .space-y-2 {
  gap: 0 !important;
  min-height: auto !important;
}

html.service-flow-export-mode .service-flow-page .space-y-2 > div {
  break-inside: auto !important;
  page-break-inside: auto !important;
  transform: none !important;
  transition: none !important;
  background: white !important;
  border: 1px solid #ddd !important;
  margin-bottom: 0 !important;
  padding: 2px 4px !important;
  border-radius: 1px !important;
}

html.service-flow-export-mode .service-flow-page,
html.service-flow-export-mode .service-flow-page * {
  box-shadow: none !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-header {
  background: white !important;
  color: #1a1a1a !important;
  font-weight: 600 !important;
  padding: 2px 6px !important;
  border: 2px solid #35B0E5 !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-header * {
  color: #1a1a1a !important;
}

html.service-flow-export-mode .service-flow-page .bg-card {
  background: white !important;
}

html.service-flow-export-mode .service-flow-page input,
html.service-flow-export-mode .service-flow-page textarea,
html.service-flow-export-mode .service-flow-page select {
  background: white !important;
  color: #1a1a1a !important;
  border-color: #666 !important;
}

html.service-flow-export-mode .service-flow-page input {
  height: 1.6rem !important;
  min-height: 1.6rem !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

html.service-flow-export-mode .service-flow-page .border-t {
  position: static !important;
  border: none !important;
  margin-top: 8px !important;
  padding-top: 0 !important;
  font-size: 13pt !important;
  font-weight: 600 !important;
  display: flex !important;
  justify-content: flex-end !important;
  width: 100% !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-total-footer {
  break-before: avoid-page !important;
  page-break-before: avoid !important;
  margin-top: 2px !important;
}

html.service-flow-export-mode .service-flow-page .border-t button {
  display: none !important;
}

html.service-flow-export-mode .service-flow-page [class*="cursor-grab"],
html.service-flow-export-mode .service-flow-page button[class*="hover:text-destructive"] {
  display: none !important;
}

html.service-flow-export-mode .service-flow-page .space-y-2 * {
  color: #1a1a1a !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-song-title {
  flex: 0 1 58% !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-song-bpm {
  margin-left: 6px !important;
  margin-right: 4px !important;
}

html.service-flow-export-mode .service-flow-page .service-flow-song-vocalist {
  max-width: none !important;
  overflow: visible !important;
  text-overflow: clip !important;
}

html.service-flow-export-mode .service-flow-page .text-muted-foreground {
  color: #555 !important;
}

html.service-flow-export-mode .service-flow-page [class*="Badge"],
html.service-flow-export-mode .service-flow-page .bg-black {
  background: #333 !important;
  color: white !important;
  padding: 1px 4px !important;
  border-radius: 2px !important;
  font-size: 11pt !important;
}

html.service-flow-export-mode .service-flow-page .text-sm {
  font-size: 12pt !important;
}

html.service-flow-export-mode .service-flow-page .text-xs {
  font-size: 11pt !important;
}

@media print {
  /* Reset page margins - tight for one-page fit */
  @page {
    margin: 0.1in;
    size: letter;
  }

  /* Hide navigation, header, sidebar, footer */
  header,
  nav,
  aside,
  footer,
  .sidebar,
  .bottom-nav,
  [data-radix-popper-content-wrapper],
  .toaster,
  .screen-header {
    display: none !important;
  }

  /* Reset body and html for print - compact for single page */
  html, body {
    background: white !important;
    color: black !important;
    font-size: 13pt !important;
    line-height: 1.15 !important;
  }

  #root,
  #root > div {
    display: block !important;
    height: auto !important;
    min-height: 0 !important;
    overflow: visible !important;
    padding-bottom: 0 !important;
  }

  main,
  main > div,
  [class*="min-h-screen"],
  [class*="min-h-["] {
    display: block !important;
    height: auto !important;
    min-height: 0 !important;
    overflow: visible !important;
    padding-bottom: 0 !important;
  }

  /* Make main content full width */
  main,
  .service-flow-page {
    padding: 0 !important;
    margin: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    position: relative !important;
  }

  .service-flow-page.service-flow-print-fit {
    zoom: 0.9 !important;
  }

  @supports not (zoom: 1) {
    .service-flow-page.service-flow-print-fit {
      transform: scale(0.9) !important;
      transform-origin: top left !important;
      width: 112% !important;
    }
  }

  /* Reduce spacing in the page */
  .service-flow-page.space-y-6 {
    gap: 2px !important;
  }

  /* Show print header - compact to free vertical space for one-page fit */
  .print-header {
    display: flex !important;
    border-color: #333 !important;
    margin-bottom: 2px !important;
    padding-bottom: 2px !important;
  }

  .print-header img {
    height: 32px !important;
    width: auto !important;
  }

  .print-header h1 {
    font-size: 16pt !important;
  }

  .print-header p {
    font-size: 13pt !important;
  }

  .print-title {
    color: #35B0E5 !important; /* ECC Blue */
  }

  .print-date {
    color: #444 !important;
  }

  /* Hide controls but keep content */
  .service-flow-page .flex.flex-wrap.gap-3 {
    display: none !important;
  }

  /* Column headers - compact */
  .service-flow-page .border-b {
    border-bottom: 1px solid #333 !important;
    margin-bottom: 2px !important;
    padding-bottom: 2px !important;
    font-size: 11pt !important;
  }

  /* Reduce space between items */
  .service-flow-page .space-y-2 {
    gap: 0 !important;
    min-height: auto !important;
  }

  /* Style the items list for print - very compact */
  .service-flow-page .space-y-2 > div {
    page-break-inside: auto !important;
    break-inside: auto !important;
    transform: none !important;
    transition: none !important;
    background: white !important;
    border: 1px solid #ddd !important;
    margin-bottom: 0 !important;
    padding: 2px 4px !important;
    border-radius: 1px !important;
  }

  /* ECC Blue (#35B0E5) outline/border around header sections */
  .service-flow-page .service-flow-header {
    background: white !important;
    color: #1a1a1a !important;
    font-weight: 600 !important;
    padding: 2px 6px !important;
    border: 2px solid #35B0E5 !important;
  }

  .service-flow-page .service-flow-header * {
    color: #1a1a1a !important;
  }

  /* Song items */
  .service-flow-page .bg-card {
    background: white !important;
  }

  /* Footer with total - absolute in header area so it's always on first page */
  .service-flow-page .border-t {
    position: static !important;
    border: none !important;
    margin-top: 8px !important;
    padding-top: 0 !important;
    font-size: 13pt !important;
    font-weight: 600 !important;
    display: flex !important;
    justify-content: flex-end !important;
    width: 100% !important;
  }

  .service-flow-page .service-flow-total-footer {
    break-before: avoid-page !important;
    page-break-before: avoid !important;
    margin-top: 2px !important;
  }

  /* Hide add button, show total */
  .service-flow-page .border-t button {
    display: none !important;
  }

  /* Hide drag handles and delete buttons in print */
  .service-flow-page [class*="cursor-grab"],
  .service-flow-page button[class*="hover:text-destructive"] {
    display: none !important;
  }

  /* Ensure text is readable */
  .service-flow-page .space-y-2 * {
    color: #1a1a1a !important;
  }

  .service-flow-page .service-flow-song-title {
    flex: 0 1 58% !important;
  }

  .service-flow-page .service-flow-song-bpm {
    margin-left: 6px !important;
    margin-right: 4px !important;
  }

  .service-flow-page .service-flow-song-vocalist {
    max-width: none !important;
    overflow: visible !important;
    text-overflow: clip !important;
  }

  .service-flow-page .text-muted-foreground {
    color: #555 !important;
  }

  /* Badges styling for print - compact */
  .service-flow-page [class*="Badge"],
  .service-flow-page .bg-black {
    background: #333 !important;
    color: white !important;
    padding: 1px 4px !important;
    border-radius: 2px !important;
    font-size: 11pt !important;
  }

  /* Compact item text */
  .service-flow-page .text-sm {
    font-size: 12pt !important;
  }

  .service-flow-page .text-xs {
    font-size: 11pt !important;
  }

  .service-flow-page input {
    height: 1.6rem !important;
    min-height: 1.6rem !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
}
